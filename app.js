const translations = {
    uk: {
      slogan: "Play Loud. Glow Hard",
      menu: "Меню",
      mainTitle: "Популярні додатки серед молоді",
      mainDesc: "Молодь активно користується мобільними додатками для спілкування, навчання, розваг і творчості, адже вони стали невід’ємною частиною сучасного життя. Ось вісім найпопулярніших додатків, що змінюють цифровий світ:",
      downloads: "Завантажень",
      rating: "Рейтинг",
      copyright: "© Всі права захищені | 2025 GameLume",
      contact: "Зв'язок:",
      social: "Соцмережі:",
      imgPlaceholder: "Тут буде картинка"
    },
    en: {
      slogan: "Play Loud. Glow Hard",
      menu: "Menu",
      mainTitle: "Top apps among Youth",
      mainDesc: "Young people actively use mobile applications for communication, learning, entertainment, and creativity, as these tools have become an integral part of modern life. Here are eight of the most popular apps shaping the digital world:",
      downloads: "Downloads",
      rating: "Rating",
      copyright: "© All rights reserved | 2025 GameLume",
      contact: "Contact:",
      social: "Social:",
      imgPlaceholder: "Picture goes here"
    }
  };
  
  const appsData = {
    tiktok: {
      title: { uk: "TikTok", en: "TikTok" },
      desc: {
        uk: "TikTok — це популярна платформа для створення, редагування та перегляду коротких відео, що охоплює широкий спектр контенту: від розважальних роликів до освітніх та творчих проєктів. Завдяки алгоритмам персоналізованого підбору відео TikTok захоплює увагу користувачів, сприяє поширенню трендів та дає можливість самовираження. Він став справжнім культурним феноменом серед молоді по всьому світу, змінюючи спосіб спілкування та сприйняття інформації.",
        en: "TikTok is a widely popular platform for creating, editing, and watching short videos, covering a diverse range of content—from entertainment clips to educational and creative projects. With its personalized recommendation algorithms, TikTok captivates users, drives trends, and enables self-expression. It has become a true cultural phenomenon among young people worldwide, reshaping communication and the way information is consumed."
      },
      downloads: "1B+",
      rating: "3.7"
    },
    instagram: {
      title: { uk: "Instagram", en: "Instagram" },
      desc: {
        uk: "Instagram — це глобальна соціальна мережа, що дозволяє користувачам ділитися фото та відео, створювати історії, вести прямі ефіри та взаємодіяти через коментарі й реакції. Завдяки естетичному контенту, розширеним можливостям редагування та активній спільноті, Instagram став платформою для натхнення, самовираження та просування особистого або брендового іміджу. Він об’єднує мільйони людей по всьому світу, змінюючи спосіб спілкування та представлення себе у цифровому просторі.",
        en: "Instagram is a global social network that enables users to share photos and videos, create stories, host live broadcasts, and engage through comments and reactions. With its visually appealing content, advanced editing features, and active community, Instagram has become a platform for inspiration, self-expression, and personal or brand promotion. It connects millions of people worldwide, transforming the way individuals communicate and present themselves in the digital landscape."
      },
      downloads: "5B+",
      rating: "4.0"
    },
    telegram: {
      title: { uk: "Telegram", en: "Telegram" },
      desc: {
        uk: "Telegram — це високошвидкісний та захищений месенджер, який забезпечує зручне спілкування та передачу файлів без обмежень. Завдяки шифруванню та хмарному зберіганню даних, він гарантує конфіденційність користувачів та доступність контенту на будь-якому пристрої. Крім текстових чатів, Telegram пропонує голосові та відеодзвінки, створення каналів та груп, що робить його потужним інструментом для комунікації. Його гнучкість та функціональність зробили його вибором для мільйонів користувачів у всьому світі.",
        en: "Telegram is a high-speed and secure messenger that facilitates seamless communication and unrestricted file sharing. With encryption and cloud storage, it ensures user privacy and content accessibility across devices. In addition to text chats, Telegram offers voice and video calls, as well as the ability to create channels and groups, making it a powerful communication tool. Its versatility and advanced functionality have made it a preferred choice for millions of users worldwide."
      },
      downloads: "1B+",
      rating: "3.9"
    },
    minecraft: {
      title: { uk: "Minecraft", en: "Minecraft" },
      desc: {
        uk: "Minecraft — це легендарна гра-пісочниця, що пропонує безмежні можливості для творчості та досліджень. Гравці можуть будувати унікальні світи, добувати ресурси, створювати складні механізми та взаємодіяти у відкритому середовищі, яке постійно змінюється. Завдяки режимам виживання та творчості, Minecraft поєднує свободу експериментування з викликами, що розвивають стратегічне мислення та креативність. Це не просто гра, а платформа для самовираження, яка надихає мільйони людей у всьому світі.",
        en: "Minecraft is an iconic sandbox game that offers limitless possibilities for creativity and exploration. Players can build unique worlds, gather resources, design complex mechanisms, and interact in an ever-evolving environment. With its survival and creative modes, Minecraft combines the freedom of experimentation with challenges that foster strategic thinking and ingenuity. It’s not just a game—it’s a platform for self-expression that inspires millions across the globe."
      },
      downloads: "50M+",
      rating: "4.2"
    },
    roblox: {
      title: { uk: "Roblox", en: "Roblox" },
      desc: {
        uk: "Roblox — це унікальна платформа, яка дозволяє користувачам створювати власні ігри, занурюватися у віртуальні світи та взаємодіяти з іншими гравцями. Вона поєднує програмування, дизайн та творчий підхід, надаючи інструменти для реалізації найсміливіших ідей. Завдяки можливості створення власного контенту та відкритому доступу до різноманітних ігрових проєктів, Roblox став місцем для експериментів, навчання та розвитку у сфері геймдеву. Це простір, де кожен може не лише грати, а й творити.",
        en: "Roblox is a unique platform that allows users to create their own games, immerse themselves in virtual worlds, and interact with other players. It combines programming, design, and creativity, providing tools to bring bold ideas to life. With the ability to develop custom content and access a vast array of user-generated projects, Roblox has become a space for experimentation, learning, and growth in game development. It’s a place where everyone can not only play but also create."
      },
      downloads: "1B+",
      rating: "4.2"
    },
    pinterest: {
      title: { uk: "Pinterest", en: "Pinterest" },
      desc: {
        uk: "Pinterest — це глобальна платформа для пошуку натхнення, яка дозволяє користувачам відкривати нові ідеї, ділитися контентом та зберігати улюблені зображення у тематичних добірках. Вона охоплює широкий спектр інтересів — від мистецтва та дизайну до кулінарії, моди й архітектури. Завдяки візуальному формату та персоналізованим рекомендаціям, Pinterest став місцем, де творчі особистості знаходять унікальні концепції, вивчають тенденції та реалізують свої проєкти.",
        en: "Pinterest is a global platform for discovering inspiration, allowing users to explore new ideas, share content, and save favorite images in thematic collections. It covers a vast range of interests—from art and design to cooking, fashion, and architecture. With its visually driven format and personalized recommendations, Pinterest has become a space where creative individuals find unique concepts, follow trends, and bring their projects to life."
      },
      downloads: "1B+",
      rating: "4.2"
    },
    duolingo: {
      title: { uk: "Duolingo", en: "Duolingo" },
      desc: {
        uk: "Duolingo — це провідний додаток для вивчення мов, який пропонує інтерактивні уроки, ігрову методику та персоналізовані навчальні плани. Завдяки коротким та ефективним вправам користувачі можуть поступово вдосконалювати свої навички, отримуючи миттєвий зворотний зв’язок. Гейміфікована структура мотивації, система досягнень та можливість практикувати вимову роблять Duolingo доступним і захопливим інструментом для мовного розвитку. Це платформа, яка допомагає мільйонам людей в усьому світі освоювати нові мови.",
        en: "Duolingo is the leading language-learning app, offering interactive lessons, gamified methodology, and personalized study plans. Through concise and effective exercises, users can steadily improve their language skills while receiving instant feedback. The app’s gamified motivation system, achievement tracking, and pronunciation practice make Duolingo an engaging and accessible tool for linguistic development. It is a platform that enables millions of people worldwide to master new languages."
      },
      downloads: "500M+",
      rating: "4.8"
    },
    spotify: {
      title: { uk: "Spotify", en: "Spotify" },
      desc: {
        uk: "Spotify — це провідний музичний стрімінг-сервіс, що надає користувачам доступ до мільйонів треків, подкастів та плейлистів з усього світу. Завдяки персоналізованим рекомендаціям, розумним алгоритмам підбору музики та можливості створювати власні збірки, Spotify став незамінним інструментом для меломанів. Він пропонує безперервне звучання улюблених композицій, відкриваючи нові жанри та артистів, які резонують з настроєм слухача.",
        en: "Spotify is a leading music streaming service that provides users with access to millions of tracks, podcasts, and playlists from around the world. With personalized recommendations, intelligent music-curation algorithms, and the ability to create custom collections, Spotify has become an essential platform for music lovers. It offers seamless playback of favorite songs while introducing new genres and artists that resonate with listeners' moods."
      },
      downloads: "1B+",
      rating: "4.0"
    }
  };
  
  let currentLang = "uk";
  let currentApp = "tiktok";
  
  function updateLang(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    document.getElementById('lang-btn').textContent = lang === 'uk' ? 'UA' : 'EN';
  
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      el.textContent = translations[lang][key];
    });
  
    updateApp(currentApp, true);
  
    const appNames = Object.keys(appsData).map(key => appsData[key].title[lang]);
    const ul = document.getElementById('apps-list');
    ul.innerHTML = '';
    appNames.forEach(appName => {
      const li = document.createElement('li');
      li.textContent = appName;
      ul.appendChild(li);
    });
  }
  
  function updateApp(appKey, skipAnim) {
    currentApp = appKey;
    const app = appsData[appKey];
    document.getElementById('app-title').textContent = app.title[currentLang];
    document.getElementById('app-desc').textContent = app.desc[currentLang];
    document.getElementById('stat-downloads').textContent = translations[currentLang].downloads;
    document.getElementById('stat-rating').textContent = translations[currentLang].rating;
    document.getElementById('stat-downloads-val').textContent = app.downloads;
    document.getElementById('stat-rating-val').textContent = app.rating;
  
    if (!skipAnim) {
      document.querySelector('.app-section').animate([
        { opacity: 1, filter: 'blur(0px)' },
        { opacity: 0.3, filter: 'blur(8px)' },
        { opacity: 1, filter: 'blur(0px)' }
      ], {
        duration: 500,
        easing: 'ease-in-out'
      });
    }
  }
  
  document.getElementById('lang-btn').addEventListener('click', () => {
    document.getElementById('lang-panel').classList.toggle('active');
  });
  document.querySelectorAll('.lang-option').forEach(btn => {
    btn.addEventListener('click', e => {
      updateLang(btn.dataset.lang);
      document.getElementById('lang-panel').classList.remove('active');
      animateLangSwitch();
    });
  });
  function animateLangSwitch() {
    document.body.animate([
      { filter: 'blur(0px)' },
      { filter: 'blur(7px)' },
      { filter: 'blur(0px)' }
    ], {
      duration: 600,
      easing: 'ease-in-out'
    });
  }
  document.getElementById('menu-btn').addEventListener('click', () => {
    document.getElementById('menu-btn').classList.toggle('active');
    document.getElementById('side-menu').classList.toggle('active');
  });
  document.querySelector('.menu-blur').addEventListener('click', () => {
    document.getElementById('menu-btn').classList.remove('active');
    document.getElementById('side-menu').classList.remove('active');
  });
  document.querySelectorAll('.menu-link').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const appKey = link.dataset.app;
      updateApp(appKey);
      document.getElementById('menu-btn').classList.remove('active');
      document.getElementById('side-menu').classList.remove('active');
    });
  });
  document.body.addEventListener('mousedown', (e) => {
    if (!e.target.closest('.lang-switcher')) {
      document.getElementById('lang-panel').classList.remove('active');
    }
  });
  
  // Звёздный фон
  const starsCanvas = document.getElementById('stars-bg');
  const ctx = starsCanvas.getContext('2d');
  let stars = [];
  function resizeStars() {
    starsCanvas.width = window.innerWidth;
    starsCanvas.height = window.innerHeight;
    stars = [];
    for (let i = 0; i < 160; i++) {
      stars.push({
        x: Math.random() * starsCanvas.width,
        y: Math.random() * starsCanvas.height,
        r: Math.random() * 1.3 + 0.5,
        o: Math.random() * 0.5 + 0.5,
        p: Math.random() * Math.PI * 2,
        s: Math.random() * 0.6 + 0.2
      });
    }
  }
  resizeStars();
  window.addEventListener('resize', resizeStars);
  function drawStars() {
    ctx.clearRect(0, 0, starsCanvas.width, starsCanvas.height);
    for (let star of stars) {
      ctx.save();
      ctx.globalAlpha = star.o * (0.7 + 0.3 * Math.sin(Date.now() * star.s / 800 + star.p));
      ctx.beginPath();
      ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
      ctx.fillStyle = "#2FF6FF";
      ctx.shadowColor = "#2FF6FF";
      ctx.shadowBlur = 8;
      ctx.fill();
      ctx.restore();
    }
    requestAnimationFrame(drawStars);
  }
  drawStars();
  
  // INIT
  updateLang('uk');
  updateApp('tiktok', true);
  